!function(t,i){"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?module.exports=i():t.Promise=i()}(this,function(){var t=1,i=2,s=3,n=function(i,s){!this._status!==t&&(this._status=i,this._value=s,h.call(this))},e=function(t){return function(i){"function"==typeof i&&(this[t===s?"_rejects":"_resolves"].push(i),h.call(this))}},h=function(){var i=this._status,n=this[i===s?"_rejects":"_resolves"],e=this._value;if(this._status!==t)for(;n.length;)e=n.shift().call(this,e)},o=function(t){n.call(this,i,t)},u=function(t){n.call(this,s,t)},c=function(i){this._status=t,this._rejects=[],this._resolves=[],i(o.bind(this),u.bind(this))};return c.prototype={then:function(t,n){return e(i).bind(this)(t),e(s).bind(this)(n),this},catch:function(t){return e(s).bind(this)(t),this}},c});